<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" /><!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" />
  <link rel="stylesheet" href="../css/style.css">
  <title>Tools</title>

  <link rel='shortcut icon' href='../images/favicon.ico' type='image/x-icon' />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="https://fonts.googleapis.com/css?family=Ubuntu:400,700&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono&display=swap" rel="stylesheet">
</head>
<nav class="navbar navbar-dark bg-dark navbar-expand-lg">
  <a class="navbar-brand" href="./index.html">Md. Emrul Chowdhury</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText"
    aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarText">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link" href="../index.html">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="../competitive-programming-profile.html">Competitive Programming Profile</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="../problem-setting-profile.html">Problem Setting Profile</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="../career-background.html">Career Background</a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="#">Tools</a>
      </li>
    </ul>
  </div>
</nav>

<body style="position: relative; min-height: 100vh">

  <div class="container" style="margin-top: 20px; padding-bottom: 150px">
    <h3>Random Test Case Generator</h3>
    <hr>
    <div class="row">
      <div class="col-lg-4">
        <h5>Select Data Type</h5>
        <select class="form-control" onchange="addRange()" id="selector" type="text" name="Data Type">
          <option>Integer</option>
          <option>Double</option>
          <option>String</option>
        </select>
        <div id="range"></div>
      </div>
      <div class="col-lg-8">
        <h5>Generated Text</h5>
        <textarea style="font-family: Ubuntu Mono; height: 50vh;" class="form-control" id="body"></textarea>
        <button class="btn btn-success" id="download-btn">Download</button>
      </div>
    </div>    
  </div>

  <footer class="footer" >
    <div class="container">
      <a style="float: right; margin-top: 12px; text-decoration: none;" href="mailto:emrul.chy@gmail.com" class="btn btn-social-icon btn-email"><span class="fa fa-envelope"></span></a>
      <a style="float: right; margin-top: 12px; text-decoration: none;" target="_blank" href="https://github.com/emrul-chy" class="btn btn-social-icon btn-github"><span class="fa fa-github"></span></a>
      <a style="float: right; margin-top: 12px; text-decoration: none;" target="_blank" href="https://www.linkedin.com/in/md-emrul-chowdhury-864a46124/" class="btn btn-social-icon btn-linkedin"><span class="fa fa-linkedin"></span></a>
      <a style="float: right; margin-top: 12px; text-decoration: none;" target="_blank" href="https://www.facebook.com/emrul.cse" class="btn btn-social-icon btn-facebook"><span class="fa fa-facebook"></span></a>
      <span class="text-muted"> â’¸ 2020 emrul-chy.github.io | By Md. Emrul Chowdhury</i><span>
    </div>
  </footer>

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>
</body>

</html>

<script>
  var bodyNode = "";
  addRange();
  function Reset() {
    document.getElementById('body').value = "";
    bodyNode = "";
  }
  function addRange() {
    var rangeNode = document.getElementById('range');
    rangeNode.innerHTML = '';
    var selectedType = document.getElementById('selector').value;
    if(selectedType == "Integer") {
      rangeNode.innerHTML += 'Minimum Value<input type="number" id="intMin" class="form-control" value="1">Maximum Value<input type="number" id="intMax" class="form-control" value="100">Repeat<input type="number" id="repeat" class="form-control" value="1"><input id="flag" type="checkbox"> With New Line<br><button class="btn btn-primary" id="addInteger">Add</button><button style="margin-left: 10px" class="btn btn-secondary" onclick="Reset()">Reset</button>';
        document.getElementById('addInteger').addEventListener('click', function() {
        var repeat = document.getElementById('repeat').value;
        if(repeat > 10000) {
          alert("Repeat limit is 10000");
          return;
        }
        if(repeat < 1) {
          return;
        }
        var max = document.getElementById('intMax').value;
        var min = document.getElementById('intMin').value;
        if(parseInt(min) > parseInt(max)) {
          alert("Minimum value should be less than maximum value");
          return
        }
        if(parseInt(max) > 1000000000) {
          alert("Maximum range is 1000000000");
          return;
        }
        if(parseInt(min) < -1000000000) {
          alert("Maximum range is -1000000000");
          return;
        }
        var withNewLine = document.getElementById('flag').checked;
        for(var i = 0; i < repeat; i++) {
          if(withNewLine == true && bodyNode.length > 0) {
            if(bodyNode[bodyNode.length - 1] == " ")
              bodyNode += "^";
            else if(bodyNode[bodyNode.length - 1] != "^")
              bodyNode += " ^";
          }
          bodyNode += parseInt(between(min, max));
          
          if(withNewLine == false) bodyNode += " "; 
        }
        if(withNewLine == true) {
          bodyNode += " ^";
        }
        //bodyNode = bodyNode.split(" ^").join("\n");
        document.getElementById('body').value = bodyNode;
        document.getElementById('body').value = document.getElementById('body').value.split(" ^").join("\n");
        if(document.getElementById('body').value[document.getElementById('body').value.length - 1] == " ") {
          document.getElementById('body').value = document.getElementById('body').value.slice(0, -1);
        }
      });
    }

    if(selectedType == "Double") {
      rangeNode.innerHTML += 'Minimum Value<input type="number" id="doubleMin" class="form-control" value="1">Maximum Value<input type="number" id="doubleMax" class="form-control" value="100">Fixed Point<input type="number" id="point" class="form-control" value="3">Repeat<input type="number" id="repeat" class="form-control" value="1"><input id="flag" type="checkbox"> With New Line<br><button class="btn btn-primary" id="addDouble">Add</button><button style="margin-left: 10px" class="btn btn-secondary" onclick="Reset()">Reset</button>';
        document.getElementById('addDouble').addEventListener('click', function() {
        var repeat = document.getElementById('repeat').value;
        if(repeat > 10000) {
          alert("Repeat limit is 10000");
          return;
        }
        if(repeat < 1) {
          return;
        }
        var max = document.getElementById('doubleMax').value;
        var min = document.getElementById('doubleMin').value;
        if(parseFloat(max) > parseFloat(max)) {
          alert("Minimum value should be less than maximum value");
          return;
        }
        if(parseFloat(max) > 1000000000) {
          alert("Maximum range is 1000000000");
          return;
        }
        if(parseFloat(min) < -1000000000) {
          alert("Maximum range is -1000000000");
          return;
        }
        var point = document.getElementById('point').value;
        var withNewLine = document.getElementById('flag').checked;
        for(var i = 0; i < repeat; i++) {
          if(withNewLine == true && bodyNode.length > 0) {
            if(bodyNode[bodyNode.length - 1] == " ")
              bodyNode += "^";
            else if(bodyNode[bodyNode.length - 1] != "^")
              bodyNode += " ^";
          }
          bodyNode += parseFloat(betweenDouble(min, max).toFixed(point));
          
          if(withNewLine == false) bodyNode += " "; 
        }
        if(withNewLine == true) {
          bodyNode += " ^";
        }
        //bodyNode = bodyNode.split(" ^").join("\n");
        document.getElementById('body').value = bodyNode;
        document.getElementById('body').value = document.getElementById('body').value.split(" ^").join("\n");
        if(document.getElementById('body').value[document.getElementById('body').value.length - 1] == " ") {
          document.getElementById('body').value = document.getElementById('body').value.slice(0, -1);
        }
      });
    }

    if(selectedType == "String") {
      rangeNode.innerHTML += 'Length<input type="number" id="stringLen" class="form-control" value="10"><input id="allowLowerCase" type="checkbox" checked> Allow Lowercase Character (a - z)<br><input id="allowUpperCase" type="checkbox"> Allow Uppercase Character (A - Z)<br><input id="allowDigit" type="checkbox"> Allow Digit (0 - 9)<br>Repeat<input type="number" id="repeat" class="form-control" value="1"><input id="flag" type="checkbox"> With New Line<br><button class="btn btn-primary" id="addDouble">Add</button><button style="margin-left: 10px" class="btn btn-secondary" onclick="Reset()">Reset</button>';
        document.getElementById('addDouble').addEventListener('click', function() {
        var repeat = document.getElementById('repeat').value;
        if(repeat < 1) {
          return;
        }
        var len = document.getElementById('stringLen').value;
        if(len * repeat > 10000) {
          alert("Maximum character limit is 10000");
          return;
        }
        var allowLowerCase = document.getElementById('allowLowerCase').checked;
        var allowUpperCase = document.getElementById('allowUpperCase').checked;
        var allowDigit = document.getElementById('allowDigit').checked;
        var withNewLine = document.getElementById('flag').checked;
        for(var i = 0; i < repeat; i++) {
          if(withNewLine == true && bodyNode.length > 0) {
            if(bodyNode[bodyNode.length - 1] == " ")
              bodyNode += "^";
            else if(bodyNode[bodyNode.length - 1] != "^")
              bodyNode += " ^";
          }
          var str = "";
          var pat = "";
          if(allowDigit) {
            for(var j = 0; j < 10; j++) {
              pat += String.fromCharCode(j + 48);
            }
          }
          if(allowUpperCase) {
            for(var j = 0; j < 26; j++) {
              pat += String.fromCharCode(j + 65);
            }
          }
          if(allowLowerCase) {
            for(var j = 0; j < 26; j++) {
              pat += String.fromCharCode(j + 97);
            }
          }
          for(var j = 0; j < len; j++) {
            var pos = between(0, pat.length - 1);
            str += pat[pos];
          }
          bodyNode += str;
          if(withNewLine == false) bodyNode += " "; 
        }
        if(withNewLine == true) {
          bodyNode += " ^";
        }
        //bodyNode = bodyNode.split(" ^").join("\n");
        document.getElementById('body').value = bodyNode;
        document.getElementById('body').value = document.getElementById('body').value.split(" ^").join("\n");
        if(document.getElementById('body').value[document.getElementById('body').value.length - 1] == " ") {
          document.getElementById('body').value = document.getElementById('body').value.slice(0, -1);
        }
      });
    }
  }
  function between(min, max) {  
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }
  function betweenDouble(min, max) {  
    return (Math.random() * (max - min)) + parseFloat(min);
  }
  function download(filename, text) {
    if(bodyNode[bodyNode.length - 1] != "^") text += "\n";
    var element = document.createElement('a');
    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
    element.setAttribute('download', filename);

    element.style.display = 'none';
    document.body.appendChild(element);

    element.click();

    document.body.removeChild(element);
  }

  // Start file download.
  document.getElementById("download-btn").addEventListener("click", function(){
    // Generate download of hello.txt file with some content
    var text = document.getElementById("body").value;
    var filename = "generated-text-" + Date.now() +".txt";
      
    download(filename, text);
  }, false);
</script>
